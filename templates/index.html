{% extends 'base.html' %}
{% load static %}

{% block head %}
<title>Sign In</title>
{% endblock %}

{% block content %}

<div class="text-center signin">
    <img class="mb-4" src="{% static 'img/chat.svg' %}" alt="" width="72" height="72">
    <h1 class="h3 mb-3 font-weight-normal">Please sign in</h1>
    <label for="room-name-input" class="sr-only">Room Name</label>
    <input id="room-name-input" type="text" class="form-control mb-3" placeholder="Room Name">
    <button id="room-name-submit" class="btn btn-lg btn-primary btn-block" type="submit">Sign in</button>

    <script>
        document.querySelector('#room-name-input').focus();
        document.querySelector('#room-name-input').onkeyup = function (e) {
            if (e.keyCode === 13) {  // enter, return
                document.querySelector('#room-name-submit').click();
            }
        };

        document.querySelector('#room-name-submit').onclick = function (e) {
            const roomName = document.querySelector('#room-name-input').value;
            window.location.pathname = '/chat/' + roomName + '/';
        };
    </script>
</div>
{% endblock %}